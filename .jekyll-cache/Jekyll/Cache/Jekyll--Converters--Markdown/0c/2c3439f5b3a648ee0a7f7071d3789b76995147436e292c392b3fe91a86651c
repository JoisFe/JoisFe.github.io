I"¶s<p>ì´ì „ì—ëŠ” íšŒì› ë„ë©”ì¸ ì„¤ê³„ë¥¼ í–ˆë‹¤ë©´ ì´ì œëŠ” ì£¼ë¬¸ í• ì¸ ë„ë©”ì¸ ì„¤ê³„ë¥¼ í•´ë³´ë ¤ í•œë‹¤.</p>

<h2 id="ì£¼ë¬¸-í• ì¸-ë„ë©”ì¸-ì„¤ê³„">ì£¼ë¬¸ í• ì¸ ë„ë©”ì¸ ì„¤ê³„</h2>
<h3 id="ì£¼ë¬¸-í• ì¸-ì •ì±…">ì£¼ë¬¸ í• ì¸ ì •ì±…</h3>
<ol>
  <li>íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆìŒ <br /></li>
  <li>íšŒì›ì˜ ë“±ê¸‰ì— ë”°ë¼ í• ì¸ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆìŒ <br /></li>
  <li>í• ì¸ ì •ì±…ì€ ëª¨ë“  VIP ë“±ê¸‰ì˜ ê²½ìš°ì—ëŠ” 1000ì›ì„ í• ì¸í•´ì£¼ëŠ” ê³ ì • ê¸ˆì•¡ í• ì¸ì„ ì ìš©í•˜ë ¤ í•œë‹¤. (í•˜ì§€ë§Œ ë³€ê²½ ë  ìˆ˜ë„ ìˆë‹¤.) <br /></li>
  <li>í• ì¸ ì •ì±…ì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. ì™œëƒí•˜ë©´ íšŒì‚¬ì—ì„œ ê¸°ë³¸ í• ì¸ ì •ì±…ì„ í•˜ì§ ì •í•˜ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ì˜¤í”ˆ ì§ì „ê¹Œì§€ ê³ ë¯¼ì„ ë¯¸ë£¨ë ¤ê³  í•˜ê³ , ìµœì•…ì˜ ê²½ìš°ì—ëŠ” í• ì¸ì„ ì ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. <br />
<br />
<br /></li>
</ol>

<h3 id="ì£¼ë¬¸-ë„ë©”ì¸-í˜‘ë ¥-ì—­í• -ì±…ì„-ê´€ê³„">ì£¼ë¬¸ ë„ë©”ì¸ í˜‘ë ¥, ì—­í• , ì±…ì„ ê´€ê³„</h3>

<p><img src="/images/Spring_basic(3)_files/í˜‘ë ¥ì—­í• ì±…ì„ê´€ê³„.jpeg" alt="jpeg" /></p>

<p><br /></p>

<ol>
  <li>ì£¼ë¬¸ ìƒì„± : í´ë¼ì´ì–¸íŠ¸ê°€ ì£¼ë¬¸ ì„œë¹„ìŠ¤ì— ì£¼ë¬¸ ìƒì„±ì„ ìš”ì²­ <br /></li>
  <li>íšŒì› ì¡°íšŒ : í• ì¸ì„ ìœ„í•´ì„œ íšŒì› ë“±ê¸‰ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì£¼ë¬¸ ì„œë¹„ìŠ¨ëŠ” íšŒì› ì €ì¥ì†Œì—ì„œ íšŒì›ì„ ì¡°íšŒí•˜ì—¬ í•´ë‹¹ íšŒì›ì˜ ë“±ê¸‰ì„ ì•Œì•„ì•¼ í•œë‹¤. <br /></li>
  <li>í• ì¸ ì ìš© : ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” í•´ë‹¹ íšŒì›ì˜ ë“±ê¸‰ì„ í™•ì¸í•œ í›„ í• ì¸ ì—¬ë¶€ë¥¼ í• ì¸ ì •ì±…ì— ìœ„ì„í•œë‹¤. <br /></li>
  <li>ì£¼ë¬¸ ê²°ê³¼ ë°˜í™˜ : ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” í• ì¸ ê²°ê³¼ë¥¼ í¬í•¨í•œ ì „ì²´ ì£¼ë¬¸ì— ëŒ€í•œ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•œë‹¤. <br /> <br /></li>
</ol>

<p>ì°¸ê³ ë¡œ ì‹¤ì œ ì£¼ë¬¸ ë°ì´í„°ëŠ” DBì— ì €ì¥í•  ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ì—¬ê¸° ì˜ˆì œì—ì„œëŠ” ìƒëµí•˜ê³  ë‹¨ìˆœí•˜ê²Œ ì£¼ë¬¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ì •ë„ë¡œ êµ¬í˜„í•  ê²ƒì´ë‹¤. <br />
<br /></p>

<h3 id="ì£¼ë¬¸-ë„ë©”ì¸-ì „ì²´">ì£¼ë¬¸ ë„ë©”ì¸ ì „ì²´</h3>
<p>ì£¼ë¬¸ í• ì¸ ë„ë©”ì¸ ë¿ë§Œ ì•„ë‹ˆë¼ ì´ì „ì— êµ¬í˜„í–ˆë˜ íšŒì› ë„ë©”ì¸ê¹Œì§€ ë‹¤ í•©ì¹œ ì£¼ë¬¸ ë„ë©”ì¸ ì „ì²´ì— ëŒ€í•´ ë‚˜íƒ€ë‚´ë©´ <br /></p>

<p><img src="/images/Spring_basic(3)_files/ì£¼ë¬¸ë„ë©”ì¸ì „ì²´.jpeg" alt="jpeg" />
<br />
<br /></p>

<h3 id="ìœ„-ì²˜ëŸ¼-ì„¤ê³„ë¥¼-í•˜ë©´-ì—­í• ê³¼-êµ¬í˜„ì„-ë¶„ë¦¬í–ˆê¸°-ë•Œë¬¸ì—-ììœ ë¡­ê²Œ-êµ¬í˜„-ê°ì²´ë¥¼-ì¡°ë¦½í• -ìˆ˜-ìˆë‹¤">ìœ„ ì²˜ëŸ¼ ì„¤ê³„ë¥¼ í•˜ë©´ ì—­í• ê³¼ êµ¬í˜„ì„ ë¶„ë¦¬í–ˆê¸° ë•Œë¬¸ì— ììœ ë¡­ê²Œ êµ¬í˜„ ê°ì²´ë¥¼ ì¡°ë¦½í•  ìˆ˜ ìˆë‹¤.</h3>
<h3 id="ë”°ë¼ì„œ-ì•„ì§-ì •í™•íˆ-ê²°ì •ë˜ì§€-ì•Šì€-íšŒì›-ì €ì¥ì†Œ-í• ì¸-ì •ì±…-ë˜í•œ-ìœ ì—°í•˜ê²Œ-ë³€ê²½í• -ìˆ˜-ìˆë‹¤">ë”°ë¼ì„œ ì•„ì§ ì •í™•íˆ ê²°ì •ë˜ì§€ ì•Šì€ íšŒì› ì €ì¥ì†Œ, í• ì¸ ì •ì±… ë˜í•œ ìœ ì—°í•˜ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</h3>

<p><br /><br /></p>

<h3 id="ì£¼ë¬¸-ë„ë©”ì¸-í´ë˜ìŠ¤-ë‹¤ì´ì–´ê·¸ë¨">ì£¼ë¬¸ ë„ë©”ì¸ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨</h3>
<p>ì£¼ë¬¸ ë„ë©”ì¸ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì„ ë‚˜íƒ€ë‚´ë³´ë©´ <br />
<img src="/images/Spring_basic(3)_files/ì£¼ë¬¸ ë„ë©”ì¸ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨.jpeg" alt="jpeg" />
<br />
<br /></p>

<p>2 ê°€ì§€ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨ì„ ìƒê°í•´ ë³¼ ê²ƒì´ë‹¤. <br /></p>
<h3 id="ì£¼ë¬¸-ë„ë©”ì¸-ê°ì²´-ë‹¤ì´ì–´ê·¸ë¨1">ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨1</h3>
<p>ë¨¼ì € ì²« ë²ˆì§¸ëŠ” íšŒì› ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ íšŒì› ì €ì¥ì†Œì— ì €ì¥í•˜ê³ , í• ì¸ ì •ì±…ì„ ì •ì•¡ í• ì¸ ì •ì±…ì„ ì´ìš©í•˜ëŠ” ê²½ìš°ì´ë‹¤ <br /></p>

<p><img src="/images/Spring_basic(3)_files/ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨1.jpeg" alt="jpeg" /> 
<br />
ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ì²´ëŠ” new OrderServiceImpl();ì„ í†µí•´<br />
ë©”ëª¨ë¦¬ íšŒì› ì €ì¥ì†ŒëŠ” new MemoryMemerRepository();ë¥¼ í†µí•´<br />
ì •ì•¡ í• ì¸ ì •ì±…ì€ new FixDiscountPolicy();ë¥¼ í†µí•´<br />
ê°ì²´ë¥¼ ìƒì„±í•˜ê³ ì í•œë‹¤.
<br />
<br /></p>

<p>íšŒì› ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ íšŒì› ì €ì¥ì†Œì—ì„œ ì¡°íšŒí•˜ê³  ì •ì•¡ í• ì¸ ì •ì±…ì„ ì§€ì›í•´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. <br />
ì—­í• ë“¤ì˜ í˜‘ë ¥ ê´€ê³„ë¥¼ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. <br />
ë§Œì•½ ë©”ëª¨ë¦¬ë¥¼ DBë¡œ ë°”ê¾¼ë‹¤í•´ë„, ì •ì•¡ í• ì¸ì„ ì •ë¥  í• ì¸ìœ¼ë¡œ ë°”ê¾¼ë‹¤ê³  í•´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ì²´ì—ë„ ì˜í–¥ì´ ì—†ë‹¤ <br />
-&gt; ì—­í• ê³¼ êµ¬í˜„ì„ ë¶„ë¦¬í–ˆê¸°ì— ê°€ëŠ¥í•œ ê²ƒì´ë‹¤. <br /><br /></p>

<h3 id="ì£¼ë¬¸-ë„ë©”ì¸-ê°ì²´-ë‹¤ì´ì–´ê·¸ë¨2">ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨2</h3>
<p>ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨1ì—ì„œ ë©”ëª¨ë¦¬ë¥¼ DBë¡œ, ì •ì•¡ í• ì¸ì„ ì •ë¥  í• ì¸ìœ¼ë¡œ ë°”ê¾¼ ê²½ìš°ì´ë‹¤.
<br />
<img src="/images/Spring_basic(3)_files/ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨2.jpeg" alt="jpeg" /> 
<br />
ì´ ë¶€ë¶„ì€ ì•„ì§ ì •í™•íˆ êµ¬í˜„ì€ í•˜ì§€ ì•Šê³  ë‚˜ì¤‘ìœ¼ë¡œ ë¯¸ë£¨ê² ë‹¤.
<br /><br /></p>

<p>íšŒì›ì„ ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ ì‹¤ì œ DBì—ì„œ ì¡°íšŒí•˜ê³  ì •ë¥  í• ì¸ ì •ì±…ì„ ì§€ì›í•´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ê²ƒì„ ì´ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨ì„ í†µí•´ ì•Œ ìˆ˜ ìˆë‹¤.<br />
ì¦‰ í˜‘ë ¥ ê´€ê³„ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br />
<br /> ì´ì „ì— ì„¤ëª…í–ˆì§€ë§Œ ì—­í• ê³¼ êµ¬í˜„ì„ ë¶„ë¦¬í–ˆê¸°ì— ê°€ëŠ¥í•œ ê²ƒì´ë‹¤. <br /><br /></p>

<h1 id="ì£¼ë¬¸-í• ì¸-êµ¬ì¡°ë¥¼-ê¸°ì¤€ìœ¼ë¡œ-ì½”ë“œë¡œ-ì‘ì„±í•´ë³´ë„ë¡-í•˜ì-">ì£¼ë¬¸ í• ì¸ êµ¬ì¡°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì½”ë“œë¡œ ì‘ì„±í•´ë³´ë„ë¡ í•˜ì. <br /></h1>

<h2 id="ì£¼ë¬¸ê³¼-í• ì¸-ë„ë©”ì¸-ê°œë°œ">ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ê°œë°œ</h2>

<h3 id="í• ì¸-ì •ì±…-ì¸í„°í˜ì´ìŠ¤">í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.discount</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">DiscountPolicy</span> <span class="o">{</span>

    <span class="cm">/**
     * @return í• ì¸ ëŒ€ìƒ ê¸ˆì•¡
     */</span>
    <span class="kt">int</span> <span class="nf">discount</span><span class="o">(</span><span class="nc">Member</span> <span class="n">member</span><span class="o">,</span> <span class="kt">int</span> <span class="n">price</span><span class="o">);</span> <span class="c1">//í• ì¸ ê¸°ëŠ¥ í•¨ìˆ˜ ì„ ì–¸</span>

<span class="o">}</span>
</code></pre></div></div>

<h3 id="ì •ì•¡-í• ì¸-ì •ì±…-êµ¬í˜„ì±…">ì •ì•¡ í• ì¸ ì •ì±… êµ¬í˜„ì±…</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.discount</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Grade</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FixDiscountPolicy</span> <span class="kd">implements</span> <span class="nc">DiscountPolicy</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">discountFixAmount</span> <span class="o">=</span> <span class="mi">1000</span><span class="o">;</span> <span class="c1">// 1000ì› í• ì¸</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">discount</span><span class="o">(</span><span class="nc">Member</span> <span class="n">member</span><span class="o">,</span> <span class="kt">int</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getGrade</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Grade</span><span class="o">.</span><span class="na">VIP</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// í˜„ì¬ íšŒì›ì´ VIP ë“±ê¸‰ì´ë©´</span>
            <span class="k">return</span> <span class="n">discountFixAmount</span><span class="o">;</span> <span class="c1">// discountFixAmount ë¦¬í„´ (ì¦‰ 1000ì› ë¦¬í„´)</span>
        <span class="o">}</span>

        <span class="k">else</span> <span class="o">{</span> <span class="c1">// í˜„ì¬ íšŒì›ì´ VIPê°€ ì•„ë‹ˆë¼ë©´</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">// 0ì„ ë¦¬í„´í•´ë¼</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>
<p><br /><br /></p>

<h3 id="ì£¼ë¬¸-ì—”í‹°í‹°">ì£¼ë¬¸ ì—”í‹°í‹°</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.order</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Order</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">memberId</span><span class="o">;</span> <span class="c1">// íšŒì› ì•„ì´ë”” </span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">itemName</span><span class="o">;</span> <span class="c1">// ë¬¼ê±´ ì´ë¦„</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">itemPrice</span><span class="o">;</span> <span class="c1">// ë¬¼ê±´ ê°€ê²©</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">discountPrice</span><span class="o">;</span> <span class="c1">// í• ì¸ ê°€ê²©</span>

    <span class="kd">public</span> <span class="nf">Order</span><span class="o">(</span><span class="nc">Long</span> <span class="n">memberId</span><span class="o">,</span> <span class="nc">String</span> <span class="n">itemName</span><span class="o">,</span> <span class="kt">int</span> <span class="n">itemPrice</span><span class="o">,</span> <span class="kt">int</span> <span class="n">discountPrice</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">memberId</span> <span class="o">=</span> <span class="n">memberId</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">itemName</span> <span class="o">=</span> <span class="n">itemName</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">itemPrice</span> <span class="o">=</span> <span class="n">itemPrice</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">discountPrice</span> <span class="o">=</span> <span class="n">discountPrice</span><span class="o">;</span> <span class="c1">//Order ìœ„í•´ í•„ìš”í•œ ì •ë³´ë“¤</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">calculatePrice</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">itemPrice</span> <span class="o">-</span> <span class="n">discountPrice</span><span class="o">;</span> <span class="c1">//ì •ì•¡ í• ì¸ ì •ì±…ì— ë§ê²Œë” í• ì¸ ì ìš©</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">getMemberId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">memberId</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMemberId</span><span class="o">(</span><span class="nc">Long</span> <span class="n">memberId</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">memberId</span> <span class="o">=</span> <span class="n">memberId</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getItemName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">itemName</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setItemName</span><span class="o">(</span><span class="nc">String</span> <span class="n">itemName</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">itemName</span> <span class="o">=</span> <span class="n">itemName</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getItemPrice</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">itemPrice</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setItemPrice</span><span class="o">(</span><span class="kt">int</span> <span class="n">itemPrice</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">itemPrice</span> <span class="o">=</span> <span class="n">itemPrice</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getDiscountPrice</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">discountPrice</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDiscountPrice</span><span class="o">(</span><span class="kt">int</span> <span class="n">discountPrice</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">discountPrice</span> <span class="o">=</span> <span class="n">discountPrice</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Order{"</span> <span class="o">+</span>
                <span class="s">"memberId="</span> <span class="o">+</span> <span class="n">memberId</span> <span class="o">+</span>
                <span class="s">", itemName='"</span> <span class="o">+</span> <span class="n">itemName</span> <span class="o">+</span> <span class="sc">'\''</span> <span class="o">+</span>
                <span class="s">", itemPrice="</span> <span class="o">+</span> <span class="n">itemPrice</span> <span class="o">+</span>
                <span class="s">", discountPrice="</span> <span class="o">+</span> <span class="n">discountPrice</span> <span class="o">+</span>
                <span class="sc">'}'</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="cm">/*
    toStringí•¨ìˆ˜ íŠ¹ì§•ì€ ê°ì²´ ìì²´ë¥¼ ì¶œë ¥í•˜ë©´ toString()ì´ í˜¸ì¶œì´ ë¨.

    ex)
    orderë¼ëŠ” ê°ì²´ê°€ ìˆë‹¤ë©´
    System.out.println(order); -&gt; order ë‚´ì˜ toString()í•¨ìˆ˜ í˜¸ì¶œ
     */</span>
<span class="o">}</span>

</code></pre></div></div>
<p><br /><br /></p>

<h3 id="ì£¼ë¬¸-ì„œë¹„ìŠ¤-ì¸í„°í˜ì´ìŠ¤">ì£¼ë¬¸ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.order</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">OrderService</span> <span class="o">{</span>
    <span class="nc">Order</span> <span class="nf">createOrder</span><span class="o">(</span><span class="nc">Long</span> <span class="n">memberId</span><span class="o">,</span> <span class="nc">String</span> <span class="n">itemName</span><span class="o">,</span> <span class="kt">int</span> <span class="n">itemPrice</span><span class="o">);</span> <span class="c1">// createOrder ì„ ì–¸</span>
<span class="o">}</span>
</code></pre></div></div>
<p><br /><br /></p>

<h3 id="ì£¼ë¬¸-ì„œë¹„ìŠ¤-êµ¬í˜„ì²´">ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ì²´</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.order</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.discount.DiscountPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.discount.FixDiscountPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemoryMemberRepository</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

    <span class="c1">//OrderServiceëŠ” 2ê°œê°€ í•„ìš”</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MemberRepository</span> <span class="n">memberRepository</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemoryMemberRepository</span><span class="o">();</span> <span class="c1">// memberRepositoryì—ì„œ íšŒì› ì°¾ì•„ì•¼ í•˜ë¯€ë¡œ</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FixDiscountPolicy</span><span class="o">();</span> <span class="c1">// discountPolicyì—ì„œ í• ì¸ ì •ì±…ë˜ë¡œ ì ìš© í•´ì•¼í•˜ë¯€ë¡œ</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Order</span> <span class="nf">createOrder</span><span class="o">(</span><span class="nc">Long</span> <span class="n">memberId</span><span class="o">,</span> <span class="nc">String</span> <span class="n">itemName</span><span class="o">,</span> <span class="kt">int</span> <span class="n">itemPrice</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">memberRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">memberId</span><span class="o">);</span> <span class="c1">// memberë¥¼ ì¼ë‹¨ ì°¾ì..</span>

        <span class="kt">int</span> <span class="n">discountPrice</span> <span class="o">=</span> <span class="n">discountPolicy</span><span class="o">.</span><span class="na">discount</span><span class="o">(</span><span class="n">member</span><span class="o">,</span> <span class="n">itemPrice</span><span class="o">);</span>
        <span class="c1">//OrderService ì…ì¥ì—ì„  í• ì¸ì— ëŒ€í•´ì„œëŠ ì˜ ëª¨ë¥´ê² ìœ¼ë‹ˆ discountPolicy ì—ê²Œ ê·¸ ì¼ì„ ë§¡ê¸°ê³  ê²°ê³¼ë§Œ ë°›ëŠ” ë‹¤ê³  ìƒê°</span>
        <span class="c1">//-&gt; ì„¤ê³„ê°€ ì˜ ëœ (SRP (ë‹¨ì¼ì±…ì„ì›ì¹™) ì˜ ì§€í‚¨ ê²ƒ)</span>
        <span class="c1">//ë§Œì•½ í• ì¸ì— ëŒ€í•´ ë³€ê²½í•  ì‚¬í•­ì´ ìˆìœ¼ë©´ í• ì¸ì— ëŒ€í•œ ë¶€ë¶„ë§Œ ê³ ì¹˜ë©´ ë˜ê³  ì£¼ë¬¸ì— ê´€ë ¨ëœ ë¶€ë¶„ì€ ê³ ì¹  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì—</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nf">Order</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="n">itemName</span><span class="o">,</span> <span class="n">itemPrice</span><span class="o">,</span> <span class="n">discountPrice</span><span class="o">);</span> <span class="c1">//Orderë¥¼ ë§Œë“¤ì–´ ë°˜í™˜.</span>

        <span class="cm">/*
        ì •ë¦¬í•˜ë©´ ì£¼ë¬¸ ìƒì„±ìš”ì²­ì´ ì˜¤ë©´ íšŒì›ì •ë³´ë¥¼ ë¨¼ì € ì¡°íšŒë¥¼ í•˜ê³  í• ì¸ ì •ì±…ì— íšŒì›ì„ ë„˜ê¸°ê³ 
        ê²°ê³¼ë“¤ì„ ì´ìš©í•´ ì£¼ë¬¸ì„ ë§Œë“¤ì–´ ë°˜í™˜í•œë‹¤.

        MemoryMemberRepository()ì™€ FixDiscountPolicy()ì„ êµ¬í˜„ì²´ë¡œ ìƒì„±í•¨
         */</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p><br />
<br /></p>

<p>ì ì´ì œ ì£¼ë¬¸ í• ì¸ ë„ë©”ì¸ ê°œë°œì„ í•´ ë³´ì•˜ìœ¼ë‹ˆ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì. <br />
<br /></p>

<h1 id="ì£¼ë¬¸-í• ì¸-ë„ë©”ì¸-ì‹¤í–‰ê³¼-í…ŒìŠ¤íŠ¸ë¥¼-í•´ë³´ì">ì£¼ë¬¸ í• ì¸ ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì.</h1>

<h2 id="ì£¼ë¬¸ê³¼-í• ì¸-ë„ë©”ì¸-ìƒì„±ê³¼-í…ŒìŠ¤íŠ¸">ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ìƒì„±ê³¼ í…ŒìŠ¤íŠ¸</h2>
<p><br />
<br />
íšŒì› ë„ë©”ì¸ í…ŒìŠ¤íŠ¸ í• ë•Œ ìˆœì„œì²˜ëŸ¼ main í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ í•´ë‹¹ ë©¤ë²„ê°€ vipì¼ë•Œ í• ì¸ ì •ì±…ì„ ì ìš©í•˜ê³  ì‹¤ì œë¡œ ì˜ ì ìš© ë°›ëŠ”ì§€ í™•ì¸í•´ ë³´ì <br /></p>

<h3 id="ì£¼ë¬¸ê³¼-í• ì¸-ì •ì±…-ì‹¤í–‰">ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±… ì‹¤í–‰</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Grade</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberServiceImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.Order</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.OrderService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.OrderServiceImpl</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderApp</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">MemberService</span> <span class="n">memberService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberServiceImpl</span><span class="o">();</span> <span class="c1">//memberservice ë§Œë“¤ê³ </span>
        <span class="nc">OrderService</span> <span class="n">orderService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OrderServiceImpl</span><span class="o">();</span> <span class="c1">//orderservice ë§Œë“¬</span>

        <span class="nc">Long</span> <span class="n">memberId</span> <span class="o">=</span> <span class="mi">1</span><span class="n">l</span><span class="o">;</span> <span class="c1">//ë©¤ë²„ ì•„ì´ë”” ìƒì„±</span>
        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"memberA"</span><span class="o">,</span> <span class="nc">Grade</span><span class="o">.</span><span class="na">VIP</span><span class="o">);</span> <span class="c1">// Member ê°ì²´ ìƒì„± (vip íšŒì› ë§Œë“¬)</span>
        <span class="n">memberService</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">member</span><span class="o">);</span> <span class="c1">//memberServiceë¥¼.join í†µí•´ ë©”ëª¨ë¦¬ ê°ì²´ì— ë„£ì–´ë‘  -&gt; ê·¸ë˜ì•¼ ì£¼ë¬¸ì—ì„œ ì°¾ì•„ ì“¸ ìˆ˜ ìˆìœ¼ë‹ˆ</span>

        <span class="nc">Order</span> <span class="n">order</span> <span class="o">=</span> <span class="n">orderService</span><span class="o">.</span><span class="na">createOrder</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"iteA"</span><span class="o">,</span> <span class="mi">10000</span><span class="o">);</span> <span class="c1">//orderService.createOrderë¥¼ í†µí•´ order ìƒì„±</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"order ="</span> <span class="o">+</span> <span class="n">order</span><span class="o">);</span> <span class="c1">//order.toString()ìœ¼ë¡œ ì •ì˜í•œ ë‚´ìš©ë“¤ì´ ì¶œë ¥ (orderí´ë˜ìŠ¤ë¥¼ ë³´ë©´ toString()í•¨ìˆ˜ ì •ì˜í•´ë†¨ìŒ)</span>
        <span class="c1">//orderë¼ëŠ” ê°ì²´ ìì²´ë¥¼ ì¶œë ¥í–ˆìœ¼ë¯€ë¡œ orderë‚´ì˜ toString()í•¨ìˆ˜ê°€ í˜¸ì¶œ ë¨</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>
<p>main í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œë³´ë©´ <br /></p>

<p><img src="/images/Spring_basic(3)_files/ì£¼ë¬¸ í• ì¸ main ì‹¤í–‰.png" alt="png" />
<br />
ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ ë¬¸ì œì—†ì´ ì˜ ì‹¤í–‰ì´ ëœë‹¤.<br />
<br /></p>

<p>ì´ì „ì— ì´ì•¼ê¸° í–ˆë“¯ì´ ì´ëŸ¬í•œ ë°©ë²•ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šì€ ë°©ë²•ì´ë‹¤. <br />
(ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ìœ¼ë¡œ ìœ„ì˜ ë°©ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ë°©ë²•)<br />
<br /></p>

<h3 id="--junit-í…ŒìŠ¤íŠ¸ë¥¼-ì´ìš©í•œë‹¤">-&gt; JUnit í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•œë‹¤</h3>
<p><br /></p>

<h3 id="ì£¼ë¬¸ê³¼-í• ì¸-ì •ì±…-í…ŒìŠ¤íŠ¸">ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±… í…ŒìŠ¤íŠ¸</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.order</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Grade</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberServiceImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.assertj.core.api.Assertions</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceTest</span> <span class="o">{</span>
    <span class="nc">MemberService</span> <span class="n">memberService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberServiceImpl</span><span class="o">();</span>
    <span class="nc">OrderService</span> <span class="n">orderService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OrderServiceImpl</span><span class="o">();</span>

    <span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">createOrder</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Long</span> <span class="n">memberId</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"memberA"</span><span class="o">,</span> <span class="nc">Grade</span><span class="o">.</span><span class="na">VIP</span><span class="o">);</span>
        <span class="n">memberService</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>

        <span class="nc">Order</span> <span class="n">order</span> <span class="o">=</span> <span class="n">orderService</span><span class="o">.</span><span class="na">createOrder</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"itemA"</span><span class="o">,</span> <span class="mi">10000</span><span class="o">);</span>
        <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">getDiscountPrice</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span> <span class="c1">//VIPê²½ìš° 1000ì› í• ì¸í•´ì£¼ê¸°ë¡œ í–ˆìœ¼ë‹ˆ ê·¸ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>
<p><br /><br />
OrderServiceTest í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰ì‹œì¼œë³´ë©´<br />
<img src="/images/Spring_basic(3)_files/ì£¼ë¬¸ í• ì¸ main test.png" alt="png" />
<br />
ìœ„ ê·¸ë¦¼ì—ì„œ ì•„ë¬´ ë¬¸ì œì—†ë‹¤ëŠ” ê²°ê³¼ë¥¼ ë‚´ ë†“ëŠ”ë‹¤. <br />
<br />
<br /></p>

<p>ì§€ê¸ˆê¹Œì§€ â€œì£¼ë¬¸ ë„ë©”ì¸ ì „ì²´â€ì— ëŒ€í•´ ë§Œë“¤ì—ˆë‹¤. <br />
ì´í›„ì—ëŠ” í• ì¸ì •ì±…ì„ ë°”ê¾¸ì—ˆì„ë•Œ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ì˜ ê°œë°œë¬ì„ì§€ (ë³€ê²½ ìš©ì´, í´ë¼ì´ì–¸íŠ¸ì— ì˜í–¥ ì•ˆë°›ì„ì§€) í™•ì¸í•´ë³´ì <br />
<br /></p>

<h3 id="reference-">Reference :</h3>
<p>ê¹€ì˜í•œ ê°•ì‚¬ë‹˜ ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ - ê¸°ë³¸í¸  ê°•ì˜ ì¤‘</p>
:ET