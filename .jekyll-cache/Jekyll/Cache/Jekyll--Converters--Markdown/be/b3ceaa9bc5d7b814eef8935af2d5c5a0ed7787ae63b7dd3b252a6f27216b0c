I"«–<p>ì´ì „ì— ì„¤ê³„í•œ ê²ƒì„ DIPë¥¼ ì§€í‚¤ë„ë¡ í•˜ê¸° ìœ„í•´ <br />
private DiscountPolicy discountPolicy; ë¡œ ë³€ê²½í•¨ìœ¼ë¡œì¨<br />
ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ë„ë¡ ë°”ê¾¸ì—ˆë‹¤. <br /><br /></p>

<p>í•˜ì§€ë§Œ êµ¬ì²´ì ì¸ ê²ƒì´ ìˆì–´ì•¼ ë­”ê°€ ëŒì•„ê°€ì§€ ì¸í„°í˜ì´ìŠ¤ë¡œë§Œ ëŒì•„ê°€ì§€ ì•Šì•˜ë‹¤. <br />
ê·¸ê²ƒì„ í•´ê²°í•  ë°©ë²•ìœ¼ë¡œ ëˆ„êµ°ê°€ê°€ í´ë¼ì´ì–¸íŠ¸ì¸ OrderServiceImplì— DiscountPolicyì˜ êµ¬í˜„ ê°ì²´ë¥¼ ëŒ€ì‹  ìƒì„±í•˜ê³  ì£¼ì…í•´ì£¼ë©´ ëœë‹¤ê³  í•˜ì˜€ë‹¤. <br /> <br />
ê·¸ë¦¬ê³  ë‚˜ì˜ ì˜ë¬¸ì ì€ <br />
ìŒ ?? ê·¸ëŸ¼ ëˆ„êµ°ê°€ê°€ ë„ëŒ€ì²´ ëˆ„êµ¬ê³ ?? <br />
ëˆ„êµ°ê°€ê°€ ìˆë‹¤ë©´ ì–´ë–»ê²Œ ëŒ€ì‹  êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì£¼ì…í•´ì£¼ëŠ”ì§€ ëª¨ë¥´ê² ë‹¤ëŠ” ì ì´ì˜€ë‹¤. <br /><br /></p>

<p>ì´ê²ƒì€ <b>ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬</b>ë¡œ ê°€ëŠ¥í•˜ë‹¤.
<br /></p>

<h1 id="ê´€ì‹¬ì‚¬ì˜-ë¶„ë¦¬">ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬</h1>
<p>ë„ëŒ€ì²´ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ê°€ ë¬´ì—‡ì¸ì§€ ì´í•´ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤. <br />
ë”°ë¼ì„œ ì´ì „ì— ì–¸ê¸‰í•˜ì˜€ë˜ ë“œë¼ë§ˆë¡œ ì˜ˆë¥¼ ë“¤ì–´ ë³´ê² ë‹¤. <br />
ë“œë¼ë§ˆ â€œë‚˜ì˜ ì•„ì €ì”¨â€ì—ì„œ ì‹¤ì œ ë°°ì—­ì— ë§ëŠ” ë°°ìš°ë¥¼ ì„ íƒí•´ì•¼í•œë‹¤ê³  í•˜ì<br />
ëˆ„ê°€ ë°°ìš°ë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œ??<br /><br /></p>

<p>ë‚˜ì˜ ì•„ì €ì”¨ ë“œë¼ë§ˆì—ì„œ â€œì´ì§€ì•ˆâ€ì—­ì„ ëˆ„ê°€í• ì§€ ì •í•˜ëŠ” ê²ƒì€ ë°°ìš°ê°€ ì •í•˜ëŠ”ê²Œ ì•„ë‹ˆë‹¤!!! <br />
ê·¸ëŸ°ë° ì´ì „ì— êµ¬í˜„í•œ ì½”ë“œë¥¼ ë³´ë©´ ë°°ìš°ê°€ ë‹¤ë¥¸ ë°°ìš°ë¥¼ ì •í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤.<br />
ë§ˆì¹˜ ë‚¨ì ì£¼ì¸ê³µ â€œë°•ë™í›ˆâ€ì—­í• (ì¸í„°í˜ì´ìŠ¤)ìœ¼ë¡œ ì„ ì •ëœ ì´ì„ ê·  ë°°ìš°(êµ¬í˜„ì²´)ê°€ ì—¬ì ì£¼ì¸ê³µ â€œì´ì§€ì•ˆâ€ì—­í• (ì¸í„°í˜ì´ìŠ¤)ìœ¼ë¡œ íŠ¹ì • ë°°ìš°(êµ¬í˜„ì²´)ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒê³¼ ê°™ì€ìƒí™©ì´ë‹¤. <br /> <br /></p>

<p>ì´ë ‡ê²Œ ë˜ë©´ ì´ì„ ê·  ë°°ìš°(êµ¬í˜„ì²´)ê°€ ì—°ê¸°ë„ í•´ì•¼í•˜ê³ , ë‹´ë‹¹ ë°°ìš° ë˜í•œ ì„­ì™¸í•´ì•¼í•˜ëŠ” <b>ë§ì€ ì±…ì„</b>ì„ ê°€ì§€ê²Œ ëœë‹¤.<br /><br /></p>

<p>ì´ì „ ì½”ë“œ OrderServiceImpl í´ë˜ìŠ¤ ì¼ë¶€ë¥¼ ë‹¤ì‹œë³´ë©´ <br /></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

    <span class="c1">//OrderServiceëŠ” 2ê°œê°€ í•„ìš”</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MemberRepository</span> <span class="n">memberRepository</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemoryMemberRepository</span><span class="o">();</span> <span class="c1">// memberRepositoryì—ì„œ íšŒì› ì°¾ì•„ì•¼ í•˜ë¯€ë¡œ</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FixDiscountPolicy</span><span class="o">();</span> <span class="c1">// discountPolicyì—ì„œ í• ì¸ ì •ì±…ë˜ë¡œ ì ìš© í•´ì•¼í•˜ë¯€ë¡œ</span>
    
</code></pre></div></div>
<p>ìœ„ ì½”ë“œë¥´ ë³´ë©´ OrderServiceImpl ì—ì„œ<br />
private final DiscountPolicy discountPolicy = new FixDiscountPolicy(); ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br />
<br />
OrderServiceImplì€ order serviceì— ê´€ë ¨ëœ ê¸°ëŠ¥ë§Œ í•´ì•¼í•˜ëŠ”ë° <br />
dsicountPolicyê°€ FixDiscountPolicy()ê°€ ë˜ì•¼í•œë‹¤ë¼ê³  ì„ íƒí•˜ê³  ìˆë‹¤.<br />
ì¦‰ í• ì¸ ì •ì±…ê¹Œì§€ OrderServiceImplì—ì„œ ì„ íƒí•˜ëŠ” ë§ì€ ì±…ì„ì„ ê°€ì§€ê³  ìˆë‹¤.<br /><br /></p>

<p>ë‹¤ì‹œ ì •ë¦¬í•˜ë©´ OrderServiceImplì´ order serviceì— ê´€ë ¨ëœ ê¸°ëŠ¥ ë¿ë§Œ ì•„ë‹ˆë¼ â€œí• ì¸ ì •ì±…ì— ëŒ€í•œ ê²ƒì´ ì •ì•¡ í• ì¸ ì •ì±…ì´ì–´ì•¼ í•œë‹¤.â€ ë¼ëŠ” êµ¬ì²´ì ì¸ ì—­í• ê¹Œì§€ ì§ì ‘ í• ì¸ ì •ì±…ì— ëŒ€í•œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  êµ¬í˜„ì²´ ê¹Œì§€ ì„ íƒí•˜ê³  ìˆë‹¤.<br /><br /></p>

<p>ì¦‰ ì´ì„ ê·  ë°°ìš°ê°€ ìì‹ ì˜ â€œë°•ë™í›ˆâ€ ì—­í• ì— ëŒ€í•œ ì—°ê¸° ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë°°ì—­ì„ ì„­ì™¸í•˜ëŠ” ì—­í• ê¹Œì§€ ê°€ì§€ê³  ìˆëŠ” ìƒí™©ê³¼ ìœ ì‚¬í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.<br /><br /></p>

<h3 id="ë”°ë¼ì„œ-ê´€ì‹¬ì‚¬ë¥¼-ë¶„ë¦¬í•´ì•¼-í•œë‹¤-">ë”°ë¼ì„œ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•´ì•¼ í•œë‹¤. <br /></h3>
<p>ë°°ìš°ëŠ” ë³¸ì¸ì˜ ì—­í• ì¸ í•´ë‹¹ ë°°ì—­ì— ëŒ€í•œ ì—°ê¸°ë§Œ ì˜í•˜ë„ë¡ ì§‘ì¤‘í•´ì•¼í•œë‹¤.<br />
ì´ì„ ê·  ë°°ìš°ëŠ” â€œì´ì§€ì•ˆâ€ì—­í• ì— ì–´ë–¤ ë°°ìš°ê°€ ì˜¤ë“  ë˜‘ê°™ì´ ì—°ê¸°ë¥¼ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.<br /><br /></p>

<p>ê·¸ë¦¬ê³  ë°°ìš°ë¥¼ ì„­ì™¸í•˜ëŠ” ì—­í• ì€ ë³„ë„ì˜ ë“œë¼ë§ˆ ê¸°íš ë‹´ë‹¹ìë“¤ì´ í•´ì•¼í•œë‹¤. <br />
-&gt; ì¦‰ ë“œë¼ë§ˆ ê¸°íšìê°€ ë‚˜ì˜¬ ì‹œì !!! <br />
<br />
<b>ë“œë¼ë§ˆ ê¸°íšìë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ ë°°ìš°ë¥¼ ë½‘ëŠ” ì¼ì„ ì‹œì¼œ ë°°ìš°ì™€ ë“œë¼ë§ˆ ê¸°íšìì˜ ì±…ì„ì„ í™•ì‹¤í•˜ê²Œ ë¶„ë¦¬í•´ì•¼ í•œë‹¤.</b>
<br /><br /></p>

<p>ì´ì „ì— ëˆ„êµ°ê°€ê°€ í´ë¼ì´ì–¸íŠ¸ì¸ OrderServiceImplì— DiscountPolicyì˜ êµ¬í˜„ ê°ì²´ë¥¼ ëŒ€ì‹  ìƒì„±í•˜ê³  ì£¼ì…í•´ì£¼ë©´ ëœë‹¤ë¼ê³  í•˜ì˜€ëŠ”ë° <br />
ìœ„ì˜ ì˜ˆì‹œì—ì„œ ë“œë¼ë§ˆ ê¸°íšìê°€ ëˆ„êµ°ê°€ê°€ ë˜ëŠ” ê²ƒì´ë‹¤ <br /><br /></p>

<h3 id="ë“œë¼ë§ˆ-ì˜ˆì‹œì²˜ëŸ¼-ì• í”Œë¦¬ì¼€ì´ì…˜-ë˜í•œ-ì‹¤ì œ-ì‹¤í–‰ë˜ëŠ”-ê°ì²´ë“¤ì€-ë³¸ì¸ì˜-ì—­í• ë§Œ-ìˆ˜í–‰í•´ì•¼-í•˜ê³ -ì–´ë–¤-êµ¬í˜„ì²´ë“¤ì´-ì¸í„°í˜ì´ìŠ¤ì—-í• ë‹¹ë ì§€ëŠ”-ë“œë¼ë§ˆ-ê¸°íšì-ì²˜ëŸ¼-ëˆ„êµ°ê°€ê°€-í•´ì¤˜ì•¼-í•œë‹¤-">ë“œë¼ë§ˆ ì˜ˆì‹œì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜í•œ ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ê°ì²´ë“¤ì€ ë³¸ì¸ì˜ ì—­í• ë§Œ ìˆ˜í–‰í•´ì•¼ í•˜ê³  <b>ì–´ë–¤ êµ¬í˜„ì²´ë“¤ì´ ì¸í„°í˜ì´ìŠ¤ì— í• ë‹¹ë ì§€ëŠ” ë“œë¼ë§ˆ ê¸°íšì ì²˜ëŸ¼ ëˆ„êµ°ê°€ê°€ í•´ì¤˜ì•¼ í•œë‹¤.</b> <br /></h3>

<p>ê·¸ ëˆ„êµ°ê°€ì˜ ì—­í• ì„ -&gt; <b>AppConfig</b>ê°€ í•  ê²ƒì´ë‹¤. <br />
<br /></p>

<h2 id="appconfig-ë“±ì¥">AppConfig ë“±ì¥</h2>
<p>ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ë™ì‘ ë°©ì‹ì„ êµ¬ì„±(config)í•˜ê¸° ìœ„í•´<br />
<b>êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±</b>í•˜ê³ , <b>ì—°ê²°</b> í•˜ëŠ” ì±…ì„ì„ ê°€ì§„ ë³„ë„ì˜ ì„¤ì • í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ê²ƒì´ë‹¤. <br />
ê·¸ ì„¤ì • í´ë˜ìŠ¤ê°€ AppConfig ì´ë‹¤.</p>

<h3 id="appconfigì—-ëŒ€í•œ-ì½”ë“œë¥¼-ë³´ë©´">AppConfigì— ëŒ€í•œ ì½”ë“œë¥¼ ë³´ë©´</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.discount.FixDiscountPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberServiceImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemoryMemberRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.OrderService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.OrderServiceImpl</span><span class="o">;</span>

<span class="c1">// ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì „ì²´ ë™ì¥ ë°©ì‹ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì„ AppConfigì—ì„œ í•˜ì</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppConfig</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nc">MemberService</span> <span class="nf">memberService</span><span class="o">()</span> <span class="o">{</span> <span class="c1">//MemberServiceë¥¼ Appconfigì—ì„œ ë§Œë“¬</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">MemberServiceImpl</span><span class="o">(</span><span class="k">new</span> <span class="nc">MemoryMemberRepository</span><span class="o">());</span>

        <span class="c1">// ëˆ„êµ°ê°€ AppConfig í†µí•´ memberService() ë¶ˆëŸ¬ë‹¤ ì“¸ë–„ MemberServiceImplì¸ êµ¬í˜„ì²´ì˜ ê°ì²´ê°€ ìƒì„±ë˜ì–´ ë°˜í™˜ë˜ëŠ”ë°</span>
        <span class="c1">// ê·¸ë–„ ê±°ê¸°ì— new MemoryMemberRepository() ë“¤ì–´ê°</span>
        <span class="c1">// ì¦‰ MemberServiceImplì˜ ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë¡œ MemoryMemberRepositoryì˜ ê°ì²´ê°€ ë“¤ì–´ê°</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">OrderService</span> <span class="nf">orderService</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// ìœ„ì™€ ë§ˆì°¬ê°€ì§€</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">OrderServiceImpl</span><span class="o">(</span><span class="k">new</span> <span class="nc">MemoryMemberRepository</span><span class="o">(),</span> <span class="k">new</span> <span class="nc">FixDiscountPolicy</span><span class="o">());</span>
        <span class="c1">// ëˆ„êµ°ê°€ AppConfigë¥¼ í†µí•´ orderService()ë¥¼ ì¡°íšŒí•˜ë©´ OrderServiceImpl êµ¬í˜„ì²´ì˜ ê°ì²´ê°€ ìƒì„±ë˜ì–´ ë°˜í™˜í•˜ëŠ”ë°</span>
        <span class="c1">// OrderServiceImpl í´ë˜ìŠ¤ë¥¼ ë³´ë©´</span>
        <span class="c1">// OrderServiceImplì˜ ìƒì„±ìì— ë‘ ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”í•œ</span>
        <span class="c1">// MemberRepository ê°ì²´ì™€, DiscountPolicy ê°ì²´ 2ê°œ ëª¨ë‘ í•„ìš”í•˜ë¯€ë¡œ</span>
        <span class="c1">// OrderServiceImplì˜ ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë¡œ MemoryMemberRepositoryì˜ ê°ì²´ì™€, FixDiscountPolicy ê°ì²´ 2ê°œ ëª¨ë‘ ë“¤ì–´ê°</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p><br /></p>

<h3 id="appconfigëŠ”-ì• í”Œë¦¬ì¼€ì´ì…˜ì˜-ì‹¤ì œ-ë™ì‘ì—-í•„ìš”í•œ-êµ¬í˜„-ê°ì²´ë¥¼-ìƒì„±í•œë‹¤">AppConfigëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ë™ì‘ì— í•„ìš”í•œ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.</h3>
<ol>
  <li>MemberServiceImpl<br /></li>
  <li>MemoryMemberRepository<br /></li>
  <li>OrderServiceImpl<br /></li>
  <li>FixDiscountPolicy<br />
<br /></li>
</ol>

<h3 id="appconfigëŠ”-ìƒì„±í•œ-ê°ì²´-ì¸ìŠ¤í„´ìŠ¤ì˜-ì°¸ì¡°ë ˆí¼ëŸ°ìŠ¤ë¥¼-ìƒì„±ìë¥¼-í†µí•´ì„œ-ì£¼ì…ì—°ê²°-í•´ì¤€ë‹¤---ìƒì„±ì-ì£¼ì…">AppConfigëŠ” ìƒì„±í•œ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡°(ë ˆí¼ëŸ°ìŠ¤)ë¥¼ ìƒì„±ìë¥¼ í†µí•´ì„œ ì£¼ì…(ì—°ê²°) í•´ì¤€ë‹¤. -&gt; ìƒì„±ì ì£¼ì…</h3>
<ol>
  <li>MemberServiceImpl -&gt; MemoryMemberRepository<br /></li>
  <li>OrderServiceImpl -&gt; MemoryMemberRepository, FixDiscountPolicy <br />
<br /></li>
</ol>

<p>ì´ì œ MemberServiceImpl í´ë˜ìŠ¤ì™€ OrderServiceImpl í´ë˜ìŠ¤ ì½”ë“œë¥¼ ë³€ê²½í•´ í˜¸ì, <br /></p>

<h3 id="memberserviceimpl---ìƒì„±ì-ì£¼ì…">MemberServiceImpl - ìƒì„±ì ì£¼ì…</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.member</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberServiceImpl</span> <span class="kd">implements</span> <span class="nc">MemberService</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MemberRepository</span> <span class="n">memberRepository</span><span class="o">;</span>
    <span class="c1">// new MemoryMemberRepository() ì§€ì›€</span>
    <span class="c1">// memberRepositoryì˜ êµ¬í˜„ì²´ ì„ íƒì„ ì—¬ê¸°ì„œ ë°”ë¡œ í•˜ì§€ ë§ì -&gt; DIP êº íŠ¸ë¦¬ê¸° ë•Œë¬¸</span>
    <span class="c1">// ì¦‰ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ë„ë¡ ë³€ê²½ (êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´ í•˜ì§€ ì•ŠìŒ)</span>

    <span class="c1">// MemberServiceImplì˜ ìƒì„±ìë¥¼ ë§Œë“¬ -&gt; ìƒì„±ìë¥¼ í†µí•´ memberRepositoryì˜ êµ¬í˜„ì²´ê°€ ë¬´ì—‡ì´ ë“¤ì–´ê°ˆì§€ ì„ íƒ</span>
    <span class="kd">public</span> <span class="nf">MemberServiceImpl</span><span class="o">(</span><span class="nc">MemberRepository</span> <span class="n">memberRepository</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">memberRepository</span> <span class="o">=</span> <span class="n">memberRepository</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// ì ì´ë ‡ê²Œ ì½”ë“œë¥¼ ê³ ì¹˜ê³  ë‚˜ë‹ˆ MemberServiceImplì— MemoryMemberRepositoryì— ëŒ€í•œ ë¶€ë¶„ì´ ì—†ë‹¤.</span>
    <span class="c1">// ì˜¤ë¡œì§€ MemberRepositoryë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ì¡´ì¬í•œë‹¤.</span>
    <span class="c1">// ì¦‰ ì¶”ìƒí™”ë§Œ ì˜ì¡´í•œë‹¤. -&gt; ë“œë””ì–´ DIPë¥¼ ì§€ì¼°ë‹¤.</span>
    <span class="c1">// êµ¬ì²´ì ì¸ê²ƒì— ëŒ€í•œê²ƒì€ MemberServiceImplì€ ì „í˜€ ëª¨ë¥¸ë‹¤.</span>
    <span class="c1">// ëˆ„êµ°ê°€ê°€ memberRepositoryì— MemoryMemberRepositoryë¥¼ ë„£ì–´ì¤„ì§€, DBMemberRepositoryë¥¼ ë„£ì–´ì¤„ì§€ ëª¨ë¥¸ë‹¤.</span>

    <span class="c1">// êµ¬ì²´ì ì¸ ê²ƒì— ëŒ€í•œê²ƒì€ ìƒì„±ìë¥¼ í†µí•´ ë°–ì—ì„œ(AppConfig) ìƒì„±í•´ì„œ ë„£ì–´ì¤Œ</span>
    <span class="c1">// ì¦‰ ìƒì„±ìë¥¼ í†µí•´ ê°ì²´ê°€ (new MemoryMemberRepository())ê°€ ìƒì„±ë˜ì–´ ë“¤ì–´ê°</span>
    <span class="c1">// -&gt; "ìƒì„±ì ì£¼ì…" ì´ë¼ê³  í•¨.</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">join</span><span class="o">(</span><span class="nc">Member</span> <span class="n">member</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">memberRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="cm">/*
    saveë©”ì„œë“œ í˜¸ì¶œì‹œ ë‹¤í˜•ì„±ì— ì˜í•´ ì¸í„°í˜ì´ìŠ¤ì¸ MemberRepositoryí´ë˜ìŠ¤ê°€ ì•„ë‹Œ MemoryMemberRepository í´ë˜ìŠ¤ì— ìˆëŠ” saveí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
    */</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Member</span> <span class="nf">findMember</span><span class="o">(</span><span class="nc">Long</span> <span class="n">memberId</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">memberRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">memberId</span><span class="o">);</span>
    <span class="o">}</span> <span class="c1">// íšŒì› ì¡°íšŒ ë©”ì„œë“œ ì •ì˜</span>

    <span class="c1">// ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì„ ì–¸í•œ ë©”ì„œë“œë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ë©”ì„œë“œ ì •ì˜ -&gt; êµ¬í˜„</span>
<span class="o">}</span>

</code></pre></div></div>
<p>ì„¤ê³„ì˜ ë³€ê²½ìœ¼ë¡œ ì¸í•´ MemberServiceImplì€ ë”ì´ìƒ MemoryMemberRepositoryë¥¼ ì˜ì¡´í•˜ì§€ ì•ŠìŒ <br /><br />
ë‹¨ì§€ MemberRepository ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´ <br /><br /></p>

<p>MemberServiceImpl ì…ì¥ì—ì„œ ìƒì„±ìë¥¼ í†µí•´ ì–´ë–¤ êµ¬í˜„ ê°ì²´ê°€ ë“¤ì–´ì˜¬ì§€(ì£¼ì…ë ì§€)ëŠ” ì•Œ ìˆ˜ ì—†ìŒ.<br />
MemberServiceImplì˜ ìƒì„±ìë¥¼ í†µí•´ì„œ ì–´ë–¤ êµ¬í˜„ ê°ì²´ë¥¼ ì£¼ì…í• ì§€ëŠ” ì˜¤ì§ ì™¸ë¶€(AppConfig)ì—ì„œ ê²°ì •ëœë‹¤. <br /><br /></p>

<p>MemberServiceImplì€ ì•ìœ¼ë¡œ <b>ì˜ì¡´ê´€ê³„</b>ì— ëŒ€í•œ ê³ ë¯¼ë“¤ì€ ì™¸ë¶€(AppConfig)ì— ë§¡ê¸°ê³  ì˜¤ì§ <b>ì‹¤í–‰</b>ì— ëŒ€í•œ ë¶€ë¶„ì—ë§Œ ì§‘ì¤‘í•˜ë©´ ëœë‹¤. <br /><br /></p>

<p>ì ì„¤ê³„ë¥¼ ë³€ê²½í•˜ì˜€ìœ¼ë‹ˆ ë³€ê°•í•œ ëŒ€ë¡œ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ë‹¤ì‹œ ë‚˜íƒ€ë‚´ë³´ì.</p>

<h3 id="ë³€ê²½-í›„-í´ë˜ìŠ¤-ë‹¤ì´ì–´ê·¸ë¨">ë³€ê²½ í›„ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨</h3>
<p><img src="/images/Spring_basic(5)_files/ë³€ê²½ í›„ í´ë˜ìŠ¤ë‹¤ì´ì–´ê·¸ë¨.jpeg" alt="jpeg" /> 
<br /></p>

<p>ê°ì²´ì˜ ìƒì„±ê³¼ ì—°ê²°ì€ AppConfigê°€ ë‹´ë‹¹í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. <br />
<b>DIP</b> í™•ì‹¤í•˜ê²Œ ì§€í‚¤ê²Œë¨ : MemberServiceImplì€ MemberRepositoryì¸ ì¶”ìƒì—ë§Œ ì˜ì¡´í•˜ë©´ ëœë‹¤. <br />
ì´ì œë¶€í„´ êµ¬ì²´ í´ë˜ìŠ¤ë¥¼ ëª°ë¼ë„ ëœë‹¤.!!! <br /><br /></p>

<p><b>ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬</b> : ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì—°ê²°í•˜ëŠ” ì—­í• ê³¼ ì‹¤í–‰í•˜ëŠ” ì—­í• ì´ ëª…í™•íˆ ë¶„ë¦¬ ë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. <br /><br /></p>

<p>ì´ì œëŠ” ë³€ê²½ í›„ íšŒì› ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì„ ë‚˜íƒ€ë‚´ ë³´ì</p>
<h3 id="ë³€ê²½-í›„-íšŒì›-ê°ì²´-ì¸ìŠ¤í„´ìŠ¤-ë‹¤ì´ì–´ê·¸ë¨">ë³€ê²½ í›„ íšŒì› ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨</h3>
<p><img src="/images/Spring_basic(5)_files/ë³€ê²½ í›„ ê°ì²´ë‹¤ì´ì–´ê·¸ë¨.jpeg" alt="jpeg" /> 
<br /></p>

<p>appConfig ê°ì²´ëŠ” memoryMemberRepository ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê·¸ ì°¸ì¡°ê°’ì„ memberServiceImplì„ ìƒì„±í•˜ë©´ì„œ ìƒì„±ìë¡œ ì „ë‹¬í•œë‹¤.<br />
<br /></p>

<p>í´ë¼ì´ì–¸íŠ¸ì¸ memberServiceImpl ì…ì¥ì—ì„œ ë³´ë©´ ì˜ì¡´ê´€ê³„ë¥¼ ë§ˆì¹˜ ì™¸ë¶€ì—ì„œ ì£¼ì…í•´ì£¼ëŠ” ê²ƒ ê°™ë‹¤ê³  í•˜ì—¬ <b>DI(Dependency Injection)</b> ì´ë¼ê³  í•˜ë©° <b>ì˜ì¡´ê´€ê³„ ì£¼ì…</b> ë˜ëŠ” <b>ì˜ì¡´ì„± ì£¼ì…</b> ì´ë¼ê³  í•œë‹¤. 
<br /><br /></p>

<p>ì´ì œëŠ” OrderServiceImplì— ëŒ€í•´ ì„¤ê³„ë¥¼ ë³€ê²½í•´ë³´ì. <br /></p>

<h3 id="orderserviceimpl---ìƒì„±ì-ì£¼ì…">OrderServiceImpl - ìƒì„±ì ì£¼ì…</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.order</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.discount.DiscountPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.discount.FixDiscountPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.discount.RateDiscountPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemoryMemberRepository</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

    <span class="c1">//OrderServiceëŠ” 2ê°œê°€ í•„ìš”</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MemberRepository</span> <span class="n">memberRepository</span><span class="o">;</span>
    <span class="c1">// new MemoryMemberRepository(); ì§€ì›€</span>
    <span class="c1">// memberRepositoryì˜ êµ¬í˜„ì²´ ì„ íƒì„ ì—¬ê¸°ì„œ ë°”ë¡œ í•˜ì§€ ë§ì -&gt; DIP êº íŠ¸ë¦¬ê¸° ë•Œë¬¸</span>
    <span class="c1">// ì¦‰ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ë„ë¡ ë³€ê²½ (êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´ í•˜ì§€ ì•ŠìŒ)</span>

    <span class="c1">// private final DiscountPolicy discountPolicy = new FixDiscountPolicy(); // discountPolicyì—ì„œ í• ì¸ ì •ì±…ë˜ë¡œ ì ìš© í•´ì•¼í•˜ë¯€ë¡œ</span>
    <span class="c1">// private final DiscountPolicy discountPolicy = new RateDiscountPolicy(); // ì •ì•¡ í• ì¸ì—ì„œ ì •ë¥  í• ì¸ìœ¼ë¡œ ë°”ê¿ˆ</span>
    <span class="kd">private</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">;</span>
    <span class="c1">// new FixDiscountPolicy(); ì§€ì›€</span>
    <span class="c1">// discountPolicyì˜ êµ¬í˜„ì²´ ì„ íƒì„ ì—¬ê¸°ì„œ ë°”ë¡œ í•˜ì§€ ë§ì -&gt; DIP êº íŠ¸ë¦¬ê¸° ë•Œë¬¸</span>
    <span class="c1">// ì¦‰ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ë„ë¡ ë³€ê²½ (êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´ í•˜ì§€ ì•ŠìŒ)</span>

    <span class="c1">// ìƒì„±ìë¥¼ ë§Œë“¤ì</span>
    <span class="kd">public</span> <span class="nf">OrderServiceImpl</span><span class="o">(</span><span class="nc">MemberRepository</span> <span class="n">memberRepository</span><span class="o">,</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">memberRepository</span> <span class="o">=</span> <span class="n">memberRepository</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">discountPolicy</span> <span class="o">=</span> <span class="n">discountPolicy</span><span class="o">;</span>

        <span class="c1">// ì ì´ë ‡ê²Œ ì½”ë“œë¥¼ ê³ ì¹˜ê³  ë‚˜ë‹ˆ OrderServiceImplì— MemoryMemberRepositoryì™€ FixDiscontPolicyì— ëŒ€í•œ ë¶€ë¶„ì´ ì—†ë‹¤.</span>
        <span class="c1">// ì˜¤ë¡œì§€ MemberRepository, DiscountPolicyë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ì¡´ì¬í•œë‹¤.</span>
        <span class="c1">// ì¦‰ ì¶”ìƒí™”ë§Œ ì˜ì¡´í•œë‹¤. -&gt; ë“œë””ì–´ DIPë¥¼ ì§€ì¼°ë‹¤.</span>
        <span class="c1">// êµ¬ì²´ì ì¸ê²ƒì— ëŒ€í•œê²ƒì€ OrderServiceImplì€ ì „í˜€ ëª¨ë¥¸ë‹¤.</span>

        <span class="c1">// êµ¬ì²´ì ì¸ ê²ƒì— ëŒ€í•œ ê²ƒì€ ìƒì„±ìë¥¼ í†µí•´ ë°–ì—ì„œ(AppConfig) ìƒì„±í•´ì„œ ë„£ì–´ì¤Œ</span>
        <span class="c1">// ì¦‰ ìƒì„±ìë¥¼ í†µí•´ ê°ì²´ê°€ (new MemoryMemberRepository(), new FixDiscountPolicy())ê°€ ìƒì„±ë˜ì–´ ë“¤ì–´ê°</span>
        <span class="c1">// -&gt; "ìƒì„±ì ì£¼ì…" ì´ë¼ê³  í•¨.</span>
    <span class="o">}</span>

    <span class="c1">// OrderServiceImpl í´ë˜ìŠ¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ê³  ìˆìœ¼ë¯€ë¡œ</span>
    <span class="c1">// êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì— ëŒ€í•´ì„œ ì „í˜€ ëª¨ë¦„</span>
    <span class="c1">// ëˆ„êµ°ê°€ê°€ memberRepositoryì— MemoryMemberRepositoryë¥¼ ë„£ì–´ì¤„ì§€, DBMemberRepositoryë¥¼ ë„£ì–´ì¤„ì§€ ëª¨ë¥¸ë‹¤.</span>
    <span class="c1">// discountPolicyì— FixDiscountPolicyë¥¼ ë„£ì–´ì¤„ì§€ RateDiscountPolicyë¥¼ ë„£ì–´ì¤„ì§€ ëª¨ë¥¸ë‹¤.</span>
    <span class="c1">// ì² ì €í•˜ê²Œ DIPë¥¼ ì§€í‚¤ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Order</span> <span class="nf">createOrder</span><span class="o">(</span><span class="nc">Long</span> <span class="n">memberId</span><span class="o">,</span> <span class="nc">String</span> <span class="n">itemName</span><span class="o">,</span> <span class="kt">int</span> <span class="n">itemPrice</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">memberRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">memberId</span><span class="o">);</span> <span class="c1">// memberë¥¼ ì¼ë‹¨ ì°¾ì..</span>

        <span class="kt">int</span> <span class="n">discountPrice</span> <span class="o">=</span> <span class="n">discountPolicy</span><span class="o">.</span><span class="na">discount</span><span class="o">(</span><span class="n">member</span><span class="o">,</span> <span class="n">itemPrice</span><span class="o">);</span>
        <span class="c1">//OrderService ì…ì¥ì—ì„  í• ì¸ì— ëŒ€í•´ì„œëŠ ì˜ ëª¨ë¥´ê² ìœ¼ë‹ˆ discountPolicy ì—ê²Œ ê·¸ ì¼ì„ ë§¡ê¸°ê³  ê²°ê³¼ë§Œ ë°›ëŠ” ë‹¤ê³  ìƒê°</span>
        <span class="c1">//-&gt; ì„¤ê³„ê°€ ì˜ ëœ (SRP (ë‹¨ì¼ì±…ì„ì›ì¹™) ì˜ ì§€í‚¨ ê²ƒ)</span>
        <span class="c1">//ë§Œì•½ í• ì¸ì— ëŒ€í•´ ë³€ê²½í•  ì‚¬í•­ì´ ìˆìœ¼ë©´ í• ì¸ì— ëŒ€í•œ ë¶€ë¶„ë§Œ ê³ ì¹˜ë©´ ë˜ê³  ì£¼ë¬¸ì— ê´€ë ¨ëœ ë¶€ë¶„ì€ ê³ ì¹  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì—</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nf">Order</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="n">itemName</span><span class="o">,</span> <span class="n">itemPrice</span><span class="o">,</span> <span class="n">discountPrice</span><span class="o">);</span> <span class="c1">//Orderë¥¼ ë§Œë“¤ì–´ ë°˜í™˜.</span>

        <span class="cm">/*
        ì •ë¦¬í•˜ë©´ ì£¼ë¬¸ ìƒì„±ìš”ì²­ì´ ì˜¤ë©´ íšŒì›ì •ë³´ë¥¼ ë¨¼ì € ì¡°íšŒë¥¼ í•˜ê³  í• ì¸ ì •ì±…ì— íšŒì›ì„ ë„˜ê¸°ê³ 
        ê²°ê³¼ë“¤ì„ ì´ìš©í•´ ì£¼ë¬¸ì„ ë§Œë“¤ì–´ ë°˜í™˜í•œë‹¤.
         */</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p><br />
ì„¤ê³„ ë³€ê²½ìœ¼ë¡œ OrderServiceImplì€ FixDiscountPolicyë¥¼ ì˜ì¡´í•˜ì§€ ì•Šê²Œë˜ì—ˆë‹¤. <br />
ë‹¨ì§€ DiscountPolicy ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•œë‹¤.<br /><br /></p>

<p>OrderServiceImpl ì…ì¥ì—ì„œ ìƒì„±ìë¥¼ í†µí•´ ì–´ë–¤ êµ¬í˜„ ê°ì²´ê°€ ë“¤ì–´ì˜¬ì§€(ì£¼ì…ë ì§€) ì•Œ ìˆ˜ ì—†ë‹¤. <br />
OrderServiceImpl ìƒì„±ìë¥¼ í†µí•´ì„œ ì–´ë–¤ êµ¬í˜„ ê°ì²´ë¥¼ ì£¼ì…í• ì§€ëŠ” ì˜¤ì§ ì™¸ë¶€(AppConfig)ì—ì„œ ê²°ì •í•œë‹¤. <br /><br /></p>

<p>OrderServiceImplì€ ì•ìœ¼ë¡œ <b>ì˜ì¡´ê´€ê³„</b>ì— ëŒ€í•œ ê³ ë¯¼ë“¤ì€ ì™¸ë¶€ì— ë§¡ê¸°ê³  <br />
<b>ì‹¤í–‰</b>ì—ë§Œ ì§‘ì¤‘í•˜ë©´ ë¨ <br /><br /></p>

<p>ì½”ë“œë¥¼ ë³´ë©´ <br />
OrderServiceImplì—ëŠ” MemoryMemberRepositoryì™€ FixDiscountPolicy ê°ì²´ì˜ ì˜ì¡´ê´€ê³„ê°€ ì£¼ì…ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <br />
<br /></p>

<p>ì ì´ì œ AppConfigë¥¼ ì‹¤í–‰ì‹œì¼œ ë³´ì</p>
<h2 id="appconfig-ì‹¤í–‰">AppConfig ì‹¤í–‰</h2>
<p>AppConfig ì‹¤í–‰í•˜ê¸°ì— ì•ì„œ ì‚¬ìš© í´ë˜ìŠ¤ë“¤ê³¼ ëª‡ëª‡ ì˜¤ë¥˜ë“¤ì„ ìˆ˜ì •í•´ì•¼ í•œë‹¤. <br /></p>

<h3 id="ì‚¬ìš©-í´ë˜ìŠ¤---memberapp">ì‚¬ìš© í´ë˜ìŠ¤ - MemberApp</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Grade</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberServiceImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.Order</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.OrderService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.order.OrderServiceImpl</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderApp</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">AppConfig</span> <span class="n">appConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AppConfig</span><span class="o">();</span>

        <span class="nc">MemberService</span> <span class="n">memberService</span> <span class="o">=</span> <span class="n">appConfig</span><span class="o">.</span><span class="na">memberService</span><span class="o">();</span> <span class="c1">// memberService í•„ìš”ì‹œ appConfigì—ì„œ ì¸í„°í˜ì´ìŠ¤ ë§Œë“¬</span>
        <span class="c1">// memberServiceì—ëŠ” MemberServiceImpl ê°ì²´ì¸ë° ìƒì„±ìë¡œ MemoryMemberRepository()ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì£¼ì… (AppConfigì— ìˆìŒ)</span>

        <span class="nc">OrderService</span> <span class="n">orderService</span> <span class="o">=</span> <span class="n">appConfig</span><span class="o">.</span><span class="na">orderService</span><span class="o">();</span> <span class="c1">// orderService í•„ìš”ì‹œ appConfigì—ì„œ ì¸í„°í˜ì´ìŠ¤ ë§Œë“¬</span>
        <span class="c1">// orderServiceì—ëŠ” OrderServiceImpl ê°ì²´ì¸ë° ìƒì„±ìë¡œ MemoryMemberRepository()ì™€ FixDiscountPolicy()ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì£¼ì… (AppConfigì— ìˆìŒ)</span>

        <span class="c1">// ê¸°ì¡´ì— main ë©”ì„œë“œì—ì„œ ì§ì ‘ MemberServiceImpl, OrderServiceImplì„ ìƒì„±í•¨</span>
        <span class="c1">// -&gt; DIP ì–´ê¸°ê¸° ë–„ë¬¸ê±°</span>

        <span class="nc">Long</span> <span class="n">memberId</span> <span class="o">=</span> <span class="mi">1</span><span class="n">l</span><span class="o">;</span> <span class="c1">//ë©¤ë²„ ì•„ì´ë”” ìƒì„±</span>
        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"memberA"</span><span class="o">,</span> <span class="nc">Grade</span><span class="o">.</span><span class="na">VIP</span><span class="o">);</span> <span class="c1">// Member ê°ì²´ ìƒì„± (vip íšŒì› ë§Œë“¬)</span>
        <span class="n">memberService</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">member</span><span class="o">);</span> <span class="c1">//memberServiceë¥¼.join í†µí•´ ë©”ëª¨ë¦¬ ê°ì²´ì— ë„£ì–´ë‘  -&gt; ê·¸ë˜ì•¼ ì£¼ë¬¸ì—ì„œ ì°¾ì•„ ì“¸ ìˆ˜ ìˆìœ¼ë‹ˆ</span>

        <span class="nc">Order</span> <span class="n">order</span> <span class="o">=</span> <span class="n">orderService</span><span class="o">.</span><span class="na">createOrder</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"iteA"</span><span class="o">,</span> <span class="mi">10000</span><span class="o">);</span> <span class="c1">//orderService.createOrderë¥¼ í†µí•´ order ìƒì„±</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"order ="</span> <span class="o">+</span> <span class="n">order</span><span class="o">);</span> <span class="c1">//order.toString()ìœ¼ë¡œ ì •ì˜í•œ ë‚´ìš©ë“¤ì´ ì¶œë ¥ (orderí´ë˜ìŠ¤ë¥¼ ë³´ë©´ toString()í•¨ìˆ˜ ì •ì˜í•´ë†¨ìŒ)</span>
        <span class="c1">//orderë¼ëŠ” ê°ì²´ ìì²´ë¥¼ ì¶œë ¥í–ˆìœ¼ë¯€ë¡œ orderë‚´ì˜ toString()í•¨ìˆ˜ê°€ í˜¸ì¶œ ë¨</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p><br />
ë˜í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•˜ì</p>

<h3 id="í…ŒìŠ¤íŠ¸-ì½”ë“œ-ì˜¤ë¥˜-ìˆ˜ì •">í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜¤ë¥˜ ìˆ˜ì •</h3>
<p>ë¨¼ì € MemberServiceTest ë¶€í„° ë³´ë©´
<br /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.member</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.AppConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.assertj.core.api.Assertions</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.BeforeEach</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberServiceTest</span> <span class="o">{</span>

    <span class="nc">MemberService</span> <span class="n">memberService</span><span class="o">;</span>

    <span class="nd">@BeforeEach</span> <span class="c1">// ê° í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì „ í˜¸ì¶œ</span>
    <span class="c1">// í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ì— appConfig ë§Œë“¤ê³  memberServiceë¥¼ í• ë‹¹í•¨</span>
    <span class="c1">// @Testê°€ ë‘ë²ˆ ìˆìœ¼ë©´ ì´ ë¶€ë¶„ ë‘ë²ˆ í˜¸ì¶œ</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">beforeEach</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">AppConfig</span> <span class="n">appConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AppConfig</span><span class="o">();</span>
        <span class="n">memberService</span> <span class="o">=</span> <span class="n">appConfig</span><span class="o">.</span><span class="na">memberService</span><span class="o">();</span>
    <span class="o">}</span>


    <span class="c1">// ê¸°ì¡´ì— ì§ì ‘ MemberServiceImplì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ì§€ìš°ì -&gt; DIP ì–´ê¸°ì§€ ì•Šê¸°ìœ„í•´</span>

    <span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">join</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//given : ì´ëŸ° ì´ëŸ° í™˜ê²½ ì£¼ì–´ì¡Œì„ë•Œ</span>
        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="mi">1L</span><span class="o">,</span> <span class="s">"memberA"</span><span class="o">,</span> <span class="nc">Grade</span><span class="o">.</span><span class="na">VIP</span><span class="o">);</span>

        <span class="c1">//when : ì´ë ‡ê²Œ í–ˆì„ë•Œ</span>
        <span class="n">memberService</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
        <span class="nc">Member</span> <span class="n">findMember</span> <span class="o">=</span> <span class="n">memberService</span><span class="o">.</span><span class="na">findMember</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>

        <span class="c1">//then : ì´ë ‡ê²Œ ëœë‹¤. -&gt; ê²€ì¦</span>
        <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">member</span><span class="o">).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">findMember</span><span class="o">);</span>

        <span class="c1">//ì •ë¦¬í•˜ë©´ ìƒˆë¡œìš´ memberê°€ ì£¼ì–´ì¡Œì„ë•Œ</span>
        <span class="c1">// ê·¸ ìƒˆë¡œìš´ ë©¤ë²„ë¥¼ íšŒì›ê°€ì…(ë“±ë¡) í–ˆì„ë•Œ</span>
        <span class="c1">// memberì™€ findMemberê°€ ê°™ì•„ì•¼ í•œë‹¤.</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p><br /><br /></p>

<p>OrderServiceTestë¥¼ ë³´ë©´ <br /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">hello.spring_basic.order</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">hello.spring_basic.AppConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Grade</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">hello.spring_basic.member.MemberServiceImpl</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.assertj.core.api.Assertions</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.BeforeEach</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceTest</span> <span class="o">{</span>

    <span class="nc">MemberService</span> <span class="n">memberService</span><span class="o">;</span>
    <span class="nc">OrderService</span> <span class="n">orderService</span><span class="o">;</span>

    <span class="nd">@BeforeEach</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">beforeEach</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">AppConfig</span> <span class="n">appConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AppConfig</span><span class="o">();</span>
        <span class="n">memberService</span> <span class="o">=</span> <span class="n">appConfig</span><span class="o">.</span><span class="na">memberService</span><span class="o">();</span>
        <span class="n">orderService</span> <span class="o">=</span> <span class="n">appConfig</span><span class="o">.</span><span class="na">orderService</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// ê¸°ì¡´ì— ì§ì ‘ MemberServiceImpl, OrderServiceImplì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ì§€ìš°ì -&gt; DIP ì–´ê¸°ì§€ ì•Šê¸°ìœ„í•´</span>

    <span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">createOrder</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Long</span> <span class="n">memberId</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
        <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"memberA"</span><span class="o">,</span> <span class="nc">Grade</span><span class="o">.</span><span class="na">VIP</span><span class="o">);</span>
        <span class="n">memberService</span><span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>

        <span class="nc">Order</span> <span class="n">order</span> <span class="o">=</span> <span class="n">orderService</span><span class="o">.</span><span class="na">createOrder</span><span class="o">(</span><span class="n">memberId</span><span class="o">,</span> <span class="s">"itemA"</span><span class="o">,</span> <span class="mi">10000</span><span class="o">);</span>
        <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">getDiscountPrice</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span> <span class="c1">//VIPê²½ìš° 1000ì› í• ì¸í•´ì£¼ê¸°ë¡œ í–ˆìœ¼ë‹ˆ ê·¸ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p><br />
ì ì´ì œ ì½”ë“œë¥¼ ë‹¤ ì‘ì„±í•˜ì˜€ìœ¼ë‹ˆ test í´ë” (í…ŒìŠ¤íŠ¸ íŒŒì¼ ëª¨ë‘)ë¥¼ ì‹¤í–‰ì‹œì¼œë³´ì <br />
<img src="/images/Spring_basic(5)_files/ì „ì²´í…ŒìŠ¤íŠ¸ì‹¤í–‰.png" alt="png" />
<br /></p>

<p>ê²°ê³¼ë¥¼ ë³´ë‹ˆ ì•„ë¬´ëŸ° ì—ëŸ¬ ì—†ì´ ì˜ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <br /><br /></p>

<p>ì ì§€ê¸ˆê¹Œì§€ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ì</p>

<h3 id="ì •ë¦¬">ì •ë¦¬</h3>
<ol>
  <li>AppConfigë¥¼ í†µí•´ì„œ ê´€ì‹¬ì‚¬ë¥¼ í™•ì‹¤íˆ ë¶„í•´í–ì˜€ë‹¤. <br /></li>
  <li>AppConfigëŠ” êµ¬ì²´ í´ë˜ìŠ¤ë¥¼ ì„ íƒí•œë‹¤. ë”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í• ì§€ ì „ì²´ êµ¬ì„±ì„ ì±…ì„ì§„ë‹¤. <br /></li>
  <li>MemberServiceImpl, OrderServiceImplì€ ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ëŠ” ì±…ì„ë§Œ ì§€ë©´ ëœë‹¤. <br /><br /></li>
</ol>

<p>ì ì§€ê¸ˆê¹Œì§€ AppConfigë¥¼ í†µí•´ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ì—¬ DIPë¥¼ ì§€í‚¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. <br />
í•˜ì§€ë§Œ ì‘ì„±í•œ AppConfig ì•½ê°„ì˜ ë¬¸ì œê°€ ìˆë‹¤. <br />
ì´ ë¶€ë¶„ì€ ë‹¤ìŒì— ì•Œì•„ë³´ê² ë‹¤.<br /><br /></p>

<h3 id="reference-">Reference :</h3>
<p>ê¹€ì˜í•œ ê°•ì‚¬ë‹˜ ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ - ê¸°ë³¸í¸  ê°•ì˜ ì¤‘</p>
:ET